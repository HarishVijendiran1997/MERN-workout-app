import{r as n,u as F,y as k,j as e}from"./index-BLoMeHUS.js";import{a as V}from"./index-D8rVyQy1.js";import{c as o}from"./login_signup.styles-Bfkc2Wur.js";const U=()=>{const[c,l]=n.useState(null),[d,m]=n.useState(!1),{dispatch:u}=F();return{signup:async(p,x,h,v,r)=>{var g,w,i;if(!navigator.onLine)return k.error("No internet connection! Please check your network");m(!0),l(null);try{const a=await V.post("https://workoutx-e9dl.onrender.com/api/user/signup",{fullName:p,username:x,email:h,password:v,confirmPassword:r});localStorage.setItem("user",JSON.stringify(a.data)),u({type:"LOGIN",payload:a.data}),k.success(((g=a==null?void 0:a.data)==null?void 0:g.message)||"Success")}catch(a){l(((i=(w=a.response)==null?void 0:w.data)==null?void 0:i.message)||"Signup failed")}finally{m(!1)}},error:c,isLoading:d,setError:l}},D=()=>{const[c,l]=n.useState(""),[d,m]=n.useState(""),[u,S]=n.useState(""),[p,x]=n.useState(""),[h,v]=n.useState(""),[r,g]=n.useState(!1),{signup:w,error:i,isLoading:a}=U(),C=async s=>{s.preventDefault(),await w(c,d,u,p,h)},L=s=>{g(!r)},P=s=>{const t=s.target.value;S(t)},b=s=>{const t=s.target.value;l(t)},M=s=>{const t=s.target.value;m(t)},I=s=>{const t=s.target.value;x(t)},O=s=>{const t=s.target.value;v(t)},E=o.page,A=o.form,B=o.title,j=o.email,f=o.emailIcon,N=o.password,y=o.passwordIcon,W=o.showPassword,Z=o.errorMessage;return e.jsx("div",{className:E,children:e.jsxs("form",{onSubmit:C,className:A,disabled:a,children:[e.jsx("h2",{className:B,children:"Sign up"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"relative min-w-sm",children:[e.jsx("input",{type:"text",placeholder:"Full Name",value:c,onChange:b,autoComplete:"name",className:j}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:f,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})})]}),e.jsxs("div",{className:"relative min-w-sm",children:[e.jsx("input",{type:"text",placeholder:"Username",value:d,onChange:M,autoComplete:"off",className:j}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:f,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})]}),e.jsxs("div",{className:"relative min-w-sm",children:[e.jsx("input",{type:"email",placeholder:"Email",value:u,onChange:P,autoComplete:"off",className:j}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:f,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})})]}),e.jsxs("div",{className:"relative min-w-sm ",children:[e.jsx("input",{type:r?"text":"password",placeholder:"Password",value:p,onChange:I,autoComplete:"new-password",className:N}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:y,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})})]}),e.jsxs("div",{className:"relative min-w-sm mt-4 ",children:[e.jsx("input",{type:r?"text":"password",placeholder:"Confirm Password",value:h,onChange:O,autoComplete:"off",className:N}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:y,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})})]})]}),e.jsx("div",{className:"flex items-center space-x-2 my-4 px-2",children:e.jsxs("label",{className:"flex items-center space-x-2 px-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"showPassword",checked:r,onChange:L,className:W}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-darkTextSecondary",children:"Show password"})]})}),e.jsx("button",{className:`w-full ${a?"bg-gray-500 cursor-not-allowed":"bg-green-600 hover:bg-green-500 active:bg-green-600"} text-white p-2 rounded transition-colors duration-200 cursor-pointer`,children:a?"Signing up...":"Sign up"}),i&&e.jsx("p",{className:Z,children:i})]})})};export{D as default};
